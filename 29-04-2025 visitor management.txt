--CREATE DATABASE VISITORMANAGEMENT;
--USE VISITORMANAGEMENT;

--CREATE TABLE LOCATION(
--LOCID BIGINT NOT NULL PRIMARY KEY,
--LOCNAME NVARCHAR(20) NOT NULL);

--SELECT * FROM LOCATION;

--ALTER TABLE LOCATION ADD CONSTRAINT
--LOC_NAME_UNIQUE UNIQUE(LOCNAME)


--CREATE TABLE USERINFORMATION(
--USERID BIGINT NOT NULL PRIMARY KEY,
--USERNAME NVARCHAR(20) NOT NULL,
--USERROLE NVARCHAR(30) NOT NULL,
--EMAIL NVARCHAR(20) NOT NULL,
--PASSWORD NVARCHAR(20) NOT NULL,
--USERLOCATION BIGINT NOT NULL);


--SELECT * FROM USERINFORMATION;

--ALTER TABLE USERINFORMATION ADD CONSTRAINT
--USERINFO_LOCATION_FK FOREIGN KEY(USERLOCATION)
--REFERENCES LOCATION (LOCID);

--ALTER TABLE USERINFO ADD CONSTRAINT
--USERINFO_CHECK CHECK(USERROLE IN('HOST','MANAGER'));

--CREATE TABLE VISITORINFORMATION(
--VISITORID BIGINT NOT NULL PRIMARY KEY,
--VISITORNAME NVARCHAR(20) NOT NULL,
--VISITORLOCATION BIGINT NOT NULL,
--PARENTCOMPANY NVARCHAR(20) NOT NULL,
--PURPOSE NVARCHAR(20) NOT NULL,
--MOBILEMUMBER BIGINT NOT NULL,
--HOSTVISITRID BIGINT NOT NULL);

--SELECT * FROM VISITORINFORMATION;

--ALTER TABLE VISITORINFORMATION ADD CONSTRAINT
--VISITOR_VISITORNAME_UNIQUE UNIQUE(VISITORNAME,VISITORLOCATION)

--ALTER TABLE VISITORINFORMATION ADD CONSTRAINT 
--VISITORINFORMATION_USERINFORMATION_FK FOREIGN KEY(HOSTVISITRID)
--REFERENCES USERINFORMATION(USERID);




